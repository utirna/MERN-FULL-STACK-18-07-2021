<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Day-9</title>
    <style>
      table {
        width: 80%;
        border-collapse: collapse;
        margin: 1rem 0;
      }
      td,
      th {
        border: 1px solid black;
      }
    </style>
  </head>
  <body>
    <div>
      <input type="text" id="productName" placeholder="enter product name" />
    </div>
    <div>
      <input
        type="number"
        id="productPrice"
        placeholder="enter product price"
      />
    </div>
    <div>
      <button id="addNewProduct">Save Product</button>
    </div>
    <table>
      <thead>
        <tr>
          <th>Sr no</th>
          <th>Product Name</th>
          <th>Product Prices</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="productLitsTbody"></tbody>
    </table>
    <script>
      var productName = document.getElementById("productName");
      var productPrice = document.getElementById("productPrice");
      var btnSave = document.getElementById("addNewProduct");
      var productLitsTbody = document.getElementById("productLitsTbody");
      var trList = [
        {
          productName: "Lenovo",
          productPrice: 12000,
        },
        {
          productName: "Dell",
          productPrice: 30000,
        },
        {
          productName: "HP",
          productPrice: 12000,
        },
        {
          productName: "Asus",
          productPrice: 30000,
        },
      ];

      btnSave.addEventListener("click", function () {
        var _productName = productName.value;
        var _productPrice = Number(productPrice.value);

        var newProduct = {
          productPrice: _productPrice,
          productName: _productName,
        };

        trList.push(newProduct);
        productName.value = "";
        productPrice.value = "";

        printProduct();
      });

      printProduct();

      function printProduct() {
        //for in
        var _tr = "";
        for (var index in trList) {
          var product = trList[index];
          _tr += `<tr>
                    <td>${Number(index) + 1}</td>
                    <td>${product.productName}</td>
                    <td>${product.productPrice}</td>
                    <td>
                      <button onClick="removeProduct(${index})">Delete</button>
                    </td>
                  </tr>`;
        }
        productLitsTbody.innerHTML = _tr;
      }

      function removeProduct(index) {
        trList.splice(index, 1);
        printProduct();
      }
    </script>
  </body>
</html>
